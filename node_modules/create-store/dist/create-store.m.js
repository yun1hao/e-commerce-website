function createStore(reducer, state) {
    if ( state === void 0 ) state = {};

    var subscribers = [];
    return {
        getState: function getState() {
            return state;
        },
        dispatch: function dispatch(action) {
            state = reducer(state, action);
            subscribers.forEach(function (handler) { return handler(); });
        },
        subscribe: function subscribe(handler) {
            subscribers.push(handler);
            return function unsubscribe() {
                var index = subscribers.indexOf(handler);
                if (index > 0) {
                    subscribers.splice(index, 1);
                }
            };
        }
    };
}



//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LmpzKG9yaWdpbmFsKSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxlQUFlLFNBQVMsWUFBWSxPQUFTLEVBQUEsS0FBQSxHQUFRLElBQUk7SUFDdkQsS0FBQSxDQUFNLGNBQWM7SUFDcEIsT0FBTztRQUNMLFdBQVc7WUFDVCxPQUFPO1FBQ2IsQ0FIUyxDQUFBO1FBSUwsU0FBUyxRQUFRO1lBQ2YsS0FBQSxDQUFBLENBQUEsQ0FBUSxPQUFBLENBQVEsT0FBTztZQUN2QixXQUFBLENBQVksT0FBWixDQUFvQixPQUFBLElBQVcsT0FBQTtRQUNyQyxDQVBTLENBQUE7UUFRTCxVQUFVLFNBQVM7WUFDakIsV0FBQSxDQUFZLElBQVosQ0FBaUI7WUFDakIsT0FBTyxTQUFTLGNBQWM7Z0JBQzVCLEtBQUEsQ0FBTSxRQUFRLFdBQUEsQ0FBWSxPQUFaLENBQW9CO2dCQUNsQyxJQUFJLEtBQUEsQ0FBQSxDQUFBLENBQVEsR0FBRztvQkFDYixXQUFBLENBQVksTUFBWixDQUFtQixPQUFPO2dCQUNwQztZQUNBO1FBQ0E7O0FBRUE7O0FBcEJBIiwiZmlsZSI6ImluZGV4LmpzKG9yaWdpbmFsKSIsInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGNyZWF0ZVN0b3JlKHJlZHVjZXIsIHN0YXRlID0ge30pIHtcbiAgY29uc3Qgc3Vic2NyaWJlcnMgPSBbXTtcbiAgcmV0dXJuIHtcbiAgICBnZXRTdGF0ZSgpIHtcbiAgICAgIHJldHVybiBzdGF0ZTtcbiAgICB9LFxuICAgIGRpc3BhdGNoKGFjdGlvbikge1xuICAgICAgc3RhdGUgPSByZWR1Y2VyKHN0YXRlLCBhY3Rpb24pO1xuICAgICAgc3Vic2NyaWJlcnMuZm9yRWFjaChoYW5kbGVyID0+IGhhbmRsZXIoKSk7XG4gICAgfSxcbiAgICBzdWJzY3JpYmUoaGFuZGxlcikge1xuICAgICAgc3Vic2NyaWJlcnMucHVzaChoYW5kbGVyKTtcbiAgICAgIHJldHVybiBmdW5jdGlvbiB1bnN1YnNjcmliZSgpIHtcbiAgICAgICAgY29uc3QgaW5kZXggPSBzdWJzY3JpYmVycy5pbmRleE9mKGhhbmRsZXIpO1xuICAgICAgICBpZiAoaW5kZXggPiAwKSB7XG4gICAgICAgICAgc3Vic2NyaWJlcnMuc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICB9XG4gIH07XG59XG4iXX0=

export default createStore;
